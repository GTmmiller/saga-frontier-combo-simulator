import{_ as y,S as N,a as S,r as a,o as i,c as n,b as l,n as m,t as T,F as f,d as w,e as d,f as b,C,w as g,v as D,g as O,h as j}from"./index.982d37f0.js";const B={name:"SkillGroup",components:{SkillName:N},data(){return{hideSkills:!0,firstRender:!1}},props:{selectedSkill:{type:S,required:!0},skillType:{type:String,required:!0},skillList:{type:Object,required:!0},drawDivider:{type:Boolean,default:!0},remasteredNames:{type:Boolean,default:!0}},computed:{},emits:{skillSelect:e=>!!(e.skillType&&e.oldName)},methods:{selectSkill(e){this.$emit("skillSelect",{skillType:e.skillType,oldName:e.oldName})}}},q={class:"dropdown-item"},A=l("hr",{class:"dropdown-divider"},null,-1),F=["onClick"],L={key:1,class:"dropdown-divider"};function V(e,o,s,u,t,c){const _=a("SkillName");return i(),n(f,null,[l("div",q,[l("button",{class:m(["button is-info",{"is-light":!t.hideSkills}]),onClick:o[0]||(o[0]=r=>{t.hideSkills=!t.hideSkills,t.firstRender=!0})},T(s.skillType),3)]),A,t.firstRender?(i(),n("div",{key:0,id:"skillBody",class:m({"is-hidden":t.hideSkills})},[(i(!0),n(f,null,w(s.skillList,(r,h)=>(i(),n("a",{role:"button",class:m(["dropdown-item",{"is-active":s.selectedSkill.oldName===r.oldName}]),key:h,onClick:p=>c.selectSkill(r)},[d(_,{skill:r,remasteredNames:s.remasteredNames},null,8,["skill","remasteredNames"])],10,F))),128))],2)):b("",!0),s.drawDivider&&!t.hideSkills?(i(),n("hr",L)):b("",!0)],64)}const z=y(B,[["render",V]]);const G={name:"SkillCard",components:{SkillGroup:z,ComboTypeTags:C,SkillName:N},data(){return{dropDownActive:!1,comboFilter:!1}},props:{skill:{type:S,required:!0},skills:{type:Object,required:!0},comboIndex:{type:Number,required:!0},previousSkill:{type:S},remasteredNames:{type:Boolean,required:!0}},emits:{skillSelect:e=>!!((e.index===0||e.index)&&e.skillType&&e.oldName)},computed:{filteredSkills(){return this.comboFilter&&this.previousSkill!==null?Object.fromEntries(Object.entries(this.skills).map(([e,o])=>{const s=Object.fromEntries(Object.entries(o).filter(([,u])=>this.previousSkill.canSendCombo(u)));return[e,s]}).filter(([,e])=>Object.keys(e).length>0)):this.skills}},methods:{handleSkillSelect(e){e.index=this.comboIndex,this.$emit("skillSelect",e),this.dropDownActive=!1}}},E={class:"box has-text-centered"},I={class:"dropdown-trigger"},R={class:"icon is-small"},M={class:"dropdown-content scroll-content"},U={class:"dropdown-item"},H={class:"checkbox"},J=O(" Combo Skills Only "),K={key:1,class:"dropdown-item"},P={key:0,class:"columns block is-mobile"},Q={class:"column has-text-centered"},W={class:"icon is-small"},X={class:"column has-text-centered"},Y={class:"icon is-small"};function Z(e,o,s,u,t,c){const _=a("SkillName"),r=a("font-awesome-icon"),h=a("SkillGroup"),p=a("ComboTypeTags");return i(),n("div",E,[l("div",{class:m(["dropdown block",{"is-active":t.dropDownActive}])},[l("div",I,[l("button",{class:"button",onClick:o[0]||(o[0]=k=>t.dropDownActive=!t.dropDownActive)},[d(_,{skill:s.skill,remasteredNames:s.remasteredNames},null,8,["skill","remasteredNames"]),l("span",R,[d(r,{icon:"fa-solid fa-angle-down"})])])]),l("div",{class:m(["dropdown-menu extended-menu has-text-left",{"is-hidden":!t.dropDownActive}])},[l("div",M,[l("div",U,[l("label",H,[g(l("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=k=>t.comboFilter=k)},null,512),[[D,t.comboFilter,void 0,{lazy:!0}]]),J])]),Object.keys(c.filteredSkills).length>0?(i(!0),n(f,{key:0},w(c.filteredSkills,(k,v,x)=>(i(),j(h,{key:v,selectedSkill:s.skill,skillType:v,skillList:k,drawDivider:x<Object.keys(s.skills).length-1,remasteredNames:s.remasteredNames,onSkillSelect:c.handleSkillSelect},null,8,["selectedSkill","skillType","skillList","drawDivider","remasteredNames","onSkillSelect"]))),128)):(i(),n("div",K,"No skills selectable"))])],2)],2),s.skill.sends.size!==0||s.skill.recieves.size!==0?(i(),n("div",P,[l("div",Q,[l("span",W,[d(r,{icon:"fa-solid fa-bullseye"})]),d(p,{comboTypes:s.skill.recieves,class:"is-centered"},null,8,["comboTypes"])]),l("div",X,[l("span",Y,[d(r,{icon:"fa-solid fa-arrow-right"})]),d(p,{comboTypes:s.skill.sends,class:"is-centered"},null,8,["comboTypes"])])])):b("",!0)])}const ee=y(G,[["render",Z],["__scopeId","data-v-bf111437"]]);export{ee as default};
